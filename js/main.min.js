(function(){"use strict";var e,t,n,o,a,i,r,u,s,d,l,h,p,c,m,g,w,x;t=function(e,t,n,o,a,i,r,u,s,d,l,h,p,c,m,g,w,x,f,M,P,b,B,N,T,C,v){var U;return U={},U.ComponentID=e,U.Name=t,U.RackUnitHeight=44.5*n/1e3,U.Width=o,U.Depth=a,U.RackOrientation=i,U.XPos=(r-C/2)/1e3,U.YPos=(u-v/2)/1e3,U.NumberingOrigin=s,U.OverlappingAllowed=d,U.CoolingMax=l,U.WeightMax=h,U.PowerMax=p,U.LargestUnitLocation=c,U.LargestUnitSize=m,U.UsedUnitsCurrent=g,U.UsedUnitsPlanned=w,U.WeightCurrent=x,U.WeightPlanned=f,U.TemperatureCurrent=M,U.TemperaturePlanned=P,U.PowerCurrent=b,U.PowerPlanned=B,U.PowerActual=N,U.PowerActualDerivation=T,U.FloorPlanWidth=C/1e3,U.FloorPlanHeight=v/1e3,U},i=[],i.push(new t(1470,"50M",42,483,0,0,4250,3650,0,1,35e3,500,"NULL",1,41,1,0,16,0,102,0,"NULL",0,115,1,1500,700)),i.push(new t(1471,"50N",42,483,0,0,4250,2950,0,1,35e3,500,300,1,35,5,0,0,0,0,0,0,0,0,1,1500,700)),i.push(new t(1472,"50O",42,483,0,0,4250,2250,0,1,35e3,500,1e4,16,27,15,0,172.8,0,12700,0,0,0,0,1,1500,700)),i.push(new t(1473,"50P",42,483,0,0,4250,1550,0,1,35e3,500,1e4,1,42,0,0,0,0,0,0,0,0,0,1,1500,700)),i.push(new t(1500,"50Q",42,483,0,0,4250,150,1,1,35e3,500,1e4,11,22,10,0,0,0,0,0,0,0,0,1,1500,700)),i.push(new t(1501,"50R",42,483,0,0,4250,-550,0,1,35e3,500,1e4,1,42,0,0,0,0,0,0,0,0,0,1,1500,700)),i.push(new t(1502,"50S",42,483,0,0,4250,-1250,0,1,35e3,500,1e4,1,42,0,0,0,0,0,0,0,0,0,1,1500,700)),i.push(new t(1503,"50T Tile",42,483,0,0,"NULL",-1950,0,1,35e3,500,1e4,1,31,11,0,0,0,0,0,0,0,0,1,1500,700)),i.push(new t(1504,"50U",42,483,0,0,4250,-2650,0,1,35e3,500,1e4,1,32,10,0,0,0,0,0,0,0,0,1,1500,700)),i.push(new t(1474,"51M",42,483,0,0,1450,3650,0,1,35e3,500,1e4,1,42,0,0,0,0,0,0,0,0,0,1,1500,700)),i.push(new t(1475,"51N",42,483,0,0,1450,2950,0,1,35e3,500,1e4,1,42,0,0,86,0,5457,0,1300,0,1300,1,1500,700)),i.push(new t(1476,"51O",42,483,0,0,1450,2250,0,1,35e3,500,1e4,1,38,4,0,86,0,5457,0,1300,0,1300,1,1500,700)),i.push(new t(1477,"51P",42,483,0,0,1450,1550,0,1,35e3,500,1e4,1,42,0,0,86,0,5457,0,1300,0,1300,1,1500,700)),i.push(new t(1478,"51Q",42,483,0,0,1450,850,0,1,35e3,500,1e4,1,42,0,0,86,0,5457,0,1300,0,1300,1,1500,700)),i.push(new t(1479,"51R",42,483,0,0,1450,150,0,1,35e3,500,1e4,1,42,0,0,86,0,5457,0,1300,0,1300,1,1500,700)),i.push(new t(1480,"51S",42,483,0,0,1450,-550,0,1,35e3,500,1e4,1,38,4,0,86,0,5457,0,1300,0,1300,1,1500,700)),i.push(new t(1481,"51T",42,483,0,0,1450,-1250,0,1,35e3,500,1e4,1,42,0,0,86,0,5457,0,1300,0,1300,1,1500,700)),i.push(new t(1482,"51U",42,483,0,0,1450,-1950,0,1,35e3,500,1e4,1,36,6,0,136,0,9832,0,1900,0,1900,1,1500,700)),i.push(new t(1483,"51V",42,483,0,0,1450,-2650,0,1,35e3,500,1e4,1,42,0,0,136,0,9832,0,1900,0,1900,1,1500,700)),i.push(new t(1484,"51W",42,483,0,0,1450,-3350,1,1,35e3,500,1e4,1,37,3,0,136,0,9832,0,1900,0,1900,1,1500,700)),i.push(new t(1510,"51X",42,483,0,0,1450,-4050,0,1,35e3,500,1e4,1,15,16,0,422,0,32789,0,5600,0,5600,1,1500,700)),i.push(new t(1485,"52L",42,483,0,0,-1350,4350,0,1,35e3,500,1e4,1,36,2,0,68,0,9832,0,1900,0,1900,1,1500,700)),i.push(new t(1486,"52M",42,483,0,0,-1350,3650,0,1,35e3,500,1e4,1,36,6,0,68,0,9832,0,1900,0,1900,1,1500,700)),i.push(new t(1487,"52N",42,483,0,0,-1350,2950,0,1,35e3,500,1e4,1,36,2,0,68,0,9832,0,1900,0,1900,1,1500,700)),i.push(new t(1488,"52O",42,483,0,0,-1350,2250,0,1,35e3,500,1e4,1,28,14,0,154,0,20746,0,4500,0,4500,1,1500,700)),i.push(new t(1489,"52P",42,483,0,0,-1350,1550,0,1,35e3,500,1e4,1,24,14,0,204,0,29496,0,5700,0,5700,1,1500,700)),i.push(new t(1490,"52Q",42,483,0,0,-1350,"NULL",0,1,35e3,500,1e4,1,42,0,0,0,0,0,0,0,0,0,1,1500,700)),i.push(new t(1491,"52R",42,483,0,0,-1350,150,0,1,35e3,500,1e4,1,42,0,0,0,0,0,0,0,0,0,1,1500,700)),i.push(new t(1492,"52S",42,483,0,0,-1350,-550,0,1,35e3,500,1e4,1,42,0,0,0,0,0,0,0,0,0,1,1500,700)),i.push(new t(1493,"52T",42,483,0,0,-1350,-1250,0,1,35e3,500,1e4,1,42,0,0,0,0,0,0,0,0,0,1,1500,700)),i.push(new t(1511,"52U",42,483,0,0,-1350,-1950,0,1,35e3,500,1e4,1,42,0,0,0,0,0,0,0,0,0,1,1500,700)),i.push(new t(1512,"52V",42,483,0,0,"NULL","NULL",0,1,35e3,500,1e4,1,28,10,0,161,0,24039,0,4400,0,4400,1,1500,700)),i.push(new t(1494,"52W",42,483,0,0,-1350,-3350,0,1,35e3,500,1e4,1,42,0,0,0,0,0,0,0,0,0,1,1500,700)),i.push(new t(1495,"52X",42,483,0,0,-1350,-4050,0,1,35e3,500,1e4,1,42,0,0,0,0,0,0,0,0,0,1,1500,700)),i.push(new t(1496,"53M",42,483,0,0,-4150,3650,0,1,35e3,500,1e4,1,42,0,0,0,0,0,0,0,0,0,1,1500,700)),i.push(new t(1497,"53N Tile",42,483,0,0,-4150,2950,0,1,35e3,500,1e4,1,42,0,0,0,0,0,0,0,0,0,1,1500,700)),i.push(new t(1498,"53O",42,483,0,0,-4150,2250,0,1,35e3,500,1e4,1,42,0,0,0,0,0,0,0,0,0,1,1500,700)),i.push(new t(1499,"53P",42,483,0,0,-4150,1550,0,1,35e3,500,1e4,1,42,0,0,0,0,0,0,0,0,0,1,1500,700)),i.push(new t(1505,"53Q",42,483,0,0,-4150,150,0,1,35e3,500,1e4,1,32,10,0,0,0,0,0,0,0,0,1,1500,700)),i.push(new t(1506,"53R",42,483,0,0,"NULL",-550,0,1,35e3,500,1e4,1,26,16,0,0,0,0,0,0,0,0,1,1500,700)),i.push(new t(1507,"53S",42,483,0,0,-4150,-1250,0,1,35e3,500,1e4,1,42,0,0,0,0,0,0,0,0,0,1,1500,700)),i.push(new t(1508,"53T",42,483,0,0,-4150,-1950,0,1,35e3,500,1e4,1,30,12,0,0,0,0,0,0,0,0,1,1500,700)),i.push(new t(1509,"53U",42,483,0,0,-4150,-2650,0,1,35e3,500,1e4,1,32,10,0,0,0,0,0,0,0,0,1,1500,700)),console.log(i.length),i=i.filter(function(e){return!(-1!==e.Name.indexOf("Tile")||isNaN(e.XPos)||isNaN(e.YPos)||isNaN(e.YPos)||isNaN(e.FloorPlanWidth)||isNaN(e.FloorPlanHeight))}),console.log(i.length),Math.roundTo=function(e,t){return null==t&&(t=0),Math.round(e*Math.pow(10,t))/Math.pow(10,t)},console.logDate=function(){var e;return arguments.length?(e="["+(new Date).toUTCString()+"] ",console.log(e,arguments)):void 0},d=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},Function.prototype.debounce=function(e,t){var n,o;return n=this,o=0,function(){var a,i,r;r=this,a=arguments,i=function(){t||n.apply(r,a),o=null},o?clearTimeout(o):t&&n.apply(r,a),o=setTimeout(i,e||100)}},o={boundingBox:{minX:e,maxX:-e,minY:e,maxY:-e},maxWidth:-e,maxHeight:-e,resetBounds:function(){this.boundingBox.minX=this.boundingBox.minY=e,this.boundingBox.maxX=this.boundingBox.maxY=-e,this.maxWidth=this.maxHeight=-e},calculateBounds:function(){this.resetBounds(),this.boundingBox.minX=Math.roundTo(d3.min(i,function(e){return e.XPos}),2),this.boundingBox.maxX=Math.roundTo(d3.max(i,function(e){return e.XPos}),2),this.boundingBox.minY=Math.roundTo(d3.min(i,function(e){return e.YPos}),2),this.boundingBox.maxY=Math.roundTo(d3.max(i,function(e){return e.YPos}),2),this.maxWidth=Math.roundTo(d3.max(i,function(e){return e.FloorPlanWidth}),2),this.maxHeight=Math.roundTo(d3.max(i,function(e){return e.FloorPlanHeight}),2)}},o.calculateBounds(),u=o.boundingBox.minY-o.maxHeight-(o.boundingBox.maxX-o.boundingBox.minX),n=-u,c=o.boundingBox.maxX+o.maxWidth+(o.boundingBox.maxY-o.boundingBox.minY),w=o.boundingBox.maxX-o.boundingBox.minY+(o.boundingBox.maxY-o.boundingBox.minY),x=d3.select("#x3dElement").attr("height","400px").attr("width","700px"),h=x.append("scene"),h.append("viewpoint").attr("id","Top View").attr("centerOfRotation","0 0 0").attr("position","0 0 "+w).attr("orientation","0.0 0.0 0.0 0.0").attr("fieldOfView","0.75"),h.append("viewpoint").attr("id","Front View").attr("centerOfRotation","0 0 0").attr("position","0 "+u+" 0").attr("orientation","1.0 0.0 0.0 1.570").attr("fieldOfView","0.95"),h.append("viewpoint").attr("id","Side View").attr("centerOfRotation","0 0 0").attr("position",""+c+" 0 0.25").attr("orientation","0.50 0.50 0.50 2.093").attr("fieldOfView","0.95"),h.append("viewpoint").attr("id","Back View").attr("centerOfRotation","0 0 0").attr("position","0.0 "+n+" -.50").attr("orientation","0.0 0.75 0.65 3.14").attr("fieldOfView","0.95"),h.append("viewpoint").attr("id","Perspective").attr("centerOfRotation","0 0 0").attr("position",""+n/3+" "+-c+" "+w/3).attr("orientation","1.0 0.25 0.25 1.25").attr("fieldOfView","0.95"),h.append("PointLight").attr("on","TRUE").attr("intensity","1.0").attr("color","1.0 0.0 0.0").attr("attenuation","1.0000 0.0000 0.0000").attr("location",""+c+" 0 0").attr("radius","200.0"),e=9007199254740992,l=function(){console.log("justforshure")},r=function(e){var t,n;n=h.selectAll("transform").data(e),t=n.enter().append("transform").append("shape").data(e).attr("id",function(e){return"rack"+e.ComponentID}).attr("class","rack"),n.transition().attr("translation",function(e){return e.XPos+" "+e.YPos+" 0.0"}),t.append("appearance").append("material"),h.selectAll("material").data(e).transition().duration(1e3).delay(500).attr("diffuseColor",function(e){return p(e)}),t.append("box").data(e).attr("size",function(e){return e.FloorPlanWidth+" "+(e.FloorPlanHeight-.1)+" "+e.RackUnitHeight})},r(i),setInterval(function(){return r(i)},1e4),p=function(e){var t,n,o;switch(document.getElementsByClassName("selectedColor")[0].value){case"Power":o=d(e.PowerCurrent/e.PowerMax)?e.PowerCurrent/e.PowerMax:"steelblue";break;case"Weight":o=d(e.WeightCurrent/e.WeightMax)?e.WeightCurrent/e.WeightMax:"steelblue";break;case"Temperature":o=d(e.TemperatureCurrent/e.CoolingMax)?e.TemperatureCurrent/e.CoolingMax:"steelblue";break;default:o="steelblue"}return"steelblue"===o?"steelblue":(.5>o?(n=Math.floor(255*o),t=200):(n=255,t=Math.floor(255*(1-o))),"#"+(16>n?"0":"")+n.toString(16)+(16>t?"0":"")+t.toString(16)+"00")},m=function(){a("selectedView"),this.className+=" selectedView",document.getElementById(this.value).setAttribute("set_bind","true")},g=function(){return a("selectedColor"),this.className+=" selectedColor",r(i)},a=function(e){var t;for(t=document.getElementsByClassName(e);t.length;)t[0].className="button"},s=function(e){var t,n,o,a,i,r,u,s,d,l,p;for(p=h.append("Transform").append("Shape").attr("id","grid"),p.append("Appearance").append("Material").attr("id","gridMaterial").attr("diffuseColor","0.8, 0.8, 0.8").attr("transparency","0.65"),d="",t="",s=0,a=Math.roundTo(.6*Math.ceil((e.boundingBox.minY-e.maxHeight)/.6-1),2),o=Math.roundTo(.6*Math.ceil((e.boundingBox.maxY+e.maxHeight)/.6+1),2),u=Math.roundTo(.6*Math.ceil((e.boundingBox.minX-e.maxWidth)/.6-1),2),r=Math.roundTo(.6*Math.ceil((e.boundingBox.maxX+e.maxWidth)/.6+1),2),i=u;r>=n;)d+=""+n+" "+a+" -1 "+n+" "+o+" -1 ",t+=""+s+" "+(s+1)+" -1 ",n=Math.roundTo(n+.6,2),s+=2;for(i=a;o>=n;)d+=""+u+" "+n+" -1 "+r+" "+n+" -1 ",t+=""+s+" "+(s+1)+" -1 ",n=Math.roundTo(n+.6,2),s+=2;return l=p.append("IndexedLineSet").attr("coordIndex","#{coodStr}"),l.append("Coordinate").attr("point",""+d)},s(o),window.onload=function(){var e,t,n,o,a,i,r,u;for(r=document.getElementsByClassName("colorOption")[0].children,n=0,a=r.length;a>n;n++)t=r[n],t.onmouseover=g;for(u=document.getElementsByClassName("cameraOption")[0].children,o=0,i=u.length;i>o;o++)e=u[o],e.onmouseover=m;document.getElementById("gridToggle").onclick=function(){document.getElementById("gridMaterial").transparency="1.0"===document.getElementById("gridMaterial").transparency?".65":"1.0"}}}).call(this);