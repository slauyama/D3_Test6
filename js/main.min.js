(function(){"use strict";var t,e,n,o,i,r,a,u,s,d,l,h,p,c,g,m,f,w,x,b,B;Math.roundTo=function(t,e){return null==e&&(e=0),Math.round(t*Math.pow(10,e))/Math.pow(10,e)},console.logDate=function(){var t;return arguments.length?(t="["+(new Date).toUTCString()+"] ",console.log(t,arguments)):void 0},d=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},e=function(t,e,n,o,i,r,a,u,s,d,l,h,p,c,g,m,f,w,x,b,B,M,S,T,P,v,y){var L;return L={},L.componentID=t,L.name=e,L.rackUnitHeight=44.5*n/1e3,L.width=o,L.depth=i,L.rackOrientation=r,L.xPosition=(a-v/2)/1e3,L.yPosition=(u-y/2)/1e3,L.numberingOrigin=s,L.overlappingAllowed=d,L.coolingMax=l,L.weightMax=h,L.powerMax=p,L.largestUnitLocation=c,L.largestUnitSize=g,L.usedUnitsCurrent=m,L.usedUnitsPlanned=f,L.weightCurrent=w,L.weightPlanned=x,L.temperatureCurrent=b,L.temperaturePlanned=B,L.powerCurrent=M,L.powerPlanned=S,L.powerActual=T,L.powerActualDerivation=P,L.floorPlanWidth=v/1e3,L.floorPlanHeight=y/1e3,L},r=[],r.push(new e(1470,"50M",42,483,0,0,4250,3650,0,1,35e3,500,"NULL",1,41,1,0,16,0,102,0,"NULL",0,115,1,1500,700)),r.push(new e(1471,"50N",42,483,0,0,4250,2950,0,1,35e3,500,300,1,35,5,0,0,0,0,0,0,0,0,1,1500,700)),r.push(new e(1472,"50O",42,483,0,0,4250,2250,0,1,35e3,500,1e4,16,27,15,0,172.8,0,12700,0,0,0,0,1,1500,700)),r.push(new e(1473,"50P",42,483,0,0,4250,1550,0,1,35e3,500,1e4,1,42,0,0,0,0,0,0,0,0,0,1,1500,700)),r.push(new e(1500,"50Q",42,483,0,0,4250,150,1,1,35e3,500,1e4,11,22,10,0,0,0,0,0,5600,0,0,1,1500,700)),r.push(new e(1501,"50R",42,483,0,0,4250,-550,0,1,35e3,500,1e4,1,42,0,0,0,0,0,0,0,0,0,1,1500,700)),r.push(new e(1502,"50S",42,483,0,0,4250,-1250,0,1,35e3,500,1e4,1,42,0,0,0,0,0,0,0,0,0,1,1500,700)),r.push(new e(1503,"50T Tile",42,483,0,0,"NULL",-1950,0,1,35e3,500,1e4,1,31,11,0,0,0,0,0,0,0,0,1,1500,700)),r.push(new e(1504,"50U",42,483,0,0,4250,-2650,0,1,35e3,500,1e4,1,32,10,0,0,0,0,0,0,0,0,1,1500,700)),r.push(new e(1474,"51M",42,483,0,0,1450,3650,0,1,35e3,500,1e4,1,42,0,0,0,0,0,0,0,0,0,1,1500,700)),r.push(new e(1475,"51N",42,483,0,0,1450,2950,0,1,35e3,500,1e4,1,42,0,0,86,0,5457,0,1300,0,1300,1,1500,700)),r.push(new e(1476,"51O",42,483,0,0,1450,2250,0,1,35e3,500,1e4,1,38,4,0,86,0,5457,0,1300,0,1300,1,1500,700)),r.push(new e(1477,"51P",42,483,0,0,1450,1550,0,1,35e3,500,1e4,1,42,0,0,86,0,5457,0,1300,0,1300,1,1500,700)),r.push(new e(1478,"51Q",42,483,0,0,1450,850,0,1,35e3,500,1e4,1,42,0,0,86,0,5457,0,1300,0,1300,1,1500,700)),r.push(new e(1479,"51R",42,483,0,0,1450,150,0,1,35e3,500,1e4,1,42,0,0,86,0,5457,0,1300,0,1300,1,1500,700)),r.push(new e(1480,"51S",42,483,0,0,1450,-550,0,1,35e3,500,1e4,1,38,4,0,86,0,5457,0,1300,0,1300,1,1500,700)),r.push(new e(1481,"51T",42,483,0,0,1450,-1250,0,1,35e3,500,1e4,1,42,0,0,86,0,5457,0,1300,0,1300,1,1500,700)),r.push(new e(1482,"51U",42,483,0,0,1450,-1950,0,1,35e3,500,1e4,1,36,6,0,136,0,9832,0,1900,0,1900,1,1500,700)),r.push(new e(1483,"51V",42,483,0,0,1450,-2650,0,1,35e3,500,1e4,1,42,0,0,136,0,9832,0,1900,0,1900,1,1500,700)),r.push(new e(1484,"51W",42,483,0,0,1450,-3350,1,1,35e3,500,1e4,1,37,3,0,136,0,9832,0,1900,0,1900,1,1500,700)),r.push(new e(1510,"51X",42,483,0,0,1450,-4050,0,1,35e3,500,1e4,1,15,16,0,422,0,32789,0,5600,0,5600,1,1500,700)),r.push(new e(1485,"52L",42,483,0,0,-1350,4350,0,1,35e3,500,1e4,1,36,2,0,68,0,9832,0,1900,0,1900,1,1500,700)),r.push(new e(1486,"52M",42,483,0,0,-1350,3650,0,1,35e3,500,1e4,1,36,6,0,68,0,9832,0,1900,0,1900,1,1500,700)),r.push(new e(1487,"52N",42,483,0,0,-1350,2950,0,1,35e3,500,1e4,1,36,2,0,68,0,9832,0,1900,0,1900,1,1500,700)),r.push(new e(1488,"52O",42,483,0,0,-1350,2250,0,1,35e3,500,1e4,1,28,14,0,154,0,20746,0,4500,0,4500,1,1500,700)),r.push(new e(1489,"52P",42,483,0,0,-1350,1550,0,1,35e3,500,1e4,1,24,14,0,204,0,29496,0,5700,0,5700,1,1500,700)),r.push(new e(1490,"52Q",42,483,0,0,-1350,"NULL",0,1,35e3,500,1e4,1,42,0,0,0,0,0,0,0,0,0,1,1500,700)),r.push(new e(1491,"52R",42,483,0,0,-1350,150,0,1,35e3,500,1e4,1,42,0,0,0,0,0,0,0,0,0,1,1500,700)),r.push(new e(1492,"52S",42,483,0,0,-1350,-550,0,1,35e3,500,1e4,1,42,0,0,0,0,0,0,5700,0,0,1,1500,700)),r.push(new e(1493,"52T",42,483,0,0,-1350,-1250,0,1,35e3,500,1e4,1,42,0,0,0,0,0,0,0,0,0,1,1500,700)),r.push(new e(1511,"52U",42,483,0,0,-1350,-1950,0,1,35e3,500,1e4,1,42,0,0,0,0,0,0,0,0,0,1,1500,700)),r.push(new e(1512,"52V",42,483,0,0,"NULL","NULL",0,1,35e3,500,1e4,1,28,10,0,161,0,24039,0,4400,0,4400,1,1500,700)),r.push(new e(1494,"52W",42,483,0,0,-1350,-3350,0,1,35e3,500,1e4,1,42,0,0,0,0,0,0,0,0,0,1,1500,700)),r.push(new e(1495,"52X",42,483,0,0,-1350,-4050,0,1,35e3,500,1e4,1,42,0,0,0,0,0,0,0,0,0,1,1500,700)),r.push(new e(1496,"53M",42,483,0,0,-4150,3650,0,1,35e3,500,1e4,1,42,0,0,0,0,0,0,0,0,0,1,1500,700)),r.push(new e(1497,"53N Tile",42,483,0,0,-4150,2950,0,1,35e3,500,1e4,1,42,0,0,0,0,0,0,0,0,0,1,1500,700)),r.push(new e(1498,"53O",42,483,0,0,-4150,2250,0,1,35e3,500,1e4,1,42,0,0,0,0,0,0,0,0,0,1,1500,700)),r.push(new e(1499,"53P",42,483,0,0,-4150,1550,0,1,35e3,500,1e4,1,42,0,0,0,0,0,0,0,0,0,1,1500,700)),r.push(new e(1505,"53Q",42,483,0,0,-4150,150,0,1,35e3,500,1e4,1,32,10,0,0,0,0,0,0,0,0,1,1500,700)),r.push(new e(1506,"53R",42,483,0,0,"NULL",-550,0,1,35e3,500,1e4,1,26,16,0,0,0,0,0,0,0,0,1,1500,700)),r.push(new e(1507,"53S",42,483,0,0,-4150,-1250,0,1,35e3,500,1e4,1,42,0,0,0,0,0,0,0,0,0,1,1500,700)),r.push(new e(1508,"53T",42,483,0,0,-4150,-1950,0,1,35e3,500,1e4,1,30,12,0,0,0,0,0,0,0,0,1,1500,700)),r.push(new e(1509,"53U",42,483,0,0,-4150,-2650,0,1,35e3,500,1e4,1,32,10,0,0,0,0,0,0,0,0,1,1500,700)),console.log(r.length),r=r.filter(function(t){return-1===t.name.indexOf("Tile")&&d(t.xPosition)&&d(t.yPosition)&&d(t.floorPlanWidth)&&d(t.floorPlanHeight)}),console.log(r.length),o={boundingBox:{minX:t,maxX:-t,minY:t,maxY:-t},maxWidth:-t,maxHeight:-t,resetBounds:function(){this.boundingBox.minX=this.boundingBox.minY=t,this.boundingBox.maxX=this.boundingBox.maxY=-t,this.maxWidth=this.maxHeight=-t},calculateBounds:function(){this.resetBounds(),this.boundingBox.minX=Math.roundTo(d3.min(r,function(t){return t.xPosition}),2),this.boundingBox.maxX=Math.roundTo(d3.max(r,function(t){return t.xPosition}),2),this.boundingBox.minY=Math.roundTo(d3.min(r,function(t){return t.yPosition}),2),this.boundingBox.maxY=Math.roundTo(d3.max(r,function(t){return t.yPosition}),2),this.maxWidth=Math.roundTo(d3.max(r,function(t){return t.floorPlanWidth}),2),this.maxHeight=Math.roundTo(d3.max(r,function(t){return t.floorPlanHeight}),2)}},o.calculateBounds(),u=o.boundingBox.minY-o.maxHeight-(o.boundingBox.maxX-o.boundingBox.minX),n=-u,c=o.boundingBox.maxX+o.maxWidth+(o.boundingBox.maxY-o.boundingBox.minY),w=o.boundingBox.maxX-o.boundingBox.minY+(o.boundingBox.maxY-o.boundingBox.minY),b=d3.select("#x3dElement").attr("height","400px").attr("width","700px"),B=b.append("button").attr("id","zoom-in"),document.getElementById("zoom-in").innerHTML="Zoom In",B=b.append("button").attr("id","zoom-out"),document.getElementById("zoom-out").innerHTML="Zoom Out",h=b.append("scene"),h.append("viewpoint").attr("id","Top View").attr("centerOfRotation","0 0 0").attr("position","0 0 "+w).attr("orientation","0.0 0.0 0.0 0.0").attr("fieldOfView","0.75"),h.append("viewpoint").attr("id","Front View").attr("centerOfRotation","0 0 0").attr("position","0 "+u+" 0").attr("orientation","1.0 0.0 0.0 1.570").attr("fieldOfView","0.95"),h.append("viewpoint").attr("id","Left View").attr("centerOfRotation","0 0 0").attr("position",""+-c+" 0 0.25").attr("orientation","-0.50 0.50 0.50 4.186").attr("fieldOfView","0.95"),h.append("viewpoint").attr("id","Right View").attr("centerOfRotation","0 0 0").attr("position",""+c+" 0 0.25").attr("orientation","0.50 0.50 0.50 2.093").attr("fieldOfView","0.95"),h.append("viewpoint").attr("id","Back View").attr("centerOfRotation","0 0 0").attr("position","0.0 "+n+" -.50").attr("orientation","0.0 0.75 0.65 3.14").attr("fieldOfView","0.95"),h.append("viewpoint").attr("id","Perspective").attr("centerOfRotation","0 0 0").attr("position",""+n/3+" "+-c+" "+w/3).attr("orientation","1.0 0.25 0.25 1.25").attr("fieldOfView","0.95"),h.append("PointLight").attr("on","TRUE").attr("intensity",".50").attr("color","1.0 1.0 1.0").attr("attenuation","1.0000 0.0000 0.0000").attr("location",""+c+" 0 0").attr("radius","200.0"),h.append("PointLight").attr("on","TRUE").attr("intensity",".50").attr("color","1.0 1.0 1.0").attr("attenuation","1.0000 0.0000 0.0000").attr("location",""+-c+" 0 0").attr("radius","200.0"),t=9007199254740992,l=function(){console.log("justforshure")},x=function(t,e,n,o){var i,r;r=[],r[0]=d3.max(t,function(t){return"number"==typeof t[e.toString()]?t[e.toString()]:void 0}),r[1]=d3.max(t,function(t){return"number"==typeof t[e.toString()]&&t[e.toString()]<r[0]?t[e.toString()]:void 0}),r[2]=d3.max(t,function(t){return"number"==typeof t[e.toString()]&&t[e.toString()]<r[1]?t[e.toString()]:void 0}),i=t.filter(function(t){return t[e.toString()]===r[0]}),r[0]=r[0].toString()+o.toString()+" rack"+(i.length>1?"s:":":"),i.forEach(function(t){return r[0]+=" "+t.name}),r[0]+=" ("+i.length+" total)",i=t.filter(function(t){return t[e.toString()]===r[1]}),r[1]=r[1].toString()+o.toString()+" rack"+(i.length>1?"s:":":"),i.forEach(function(t){return r[1]+=" "+t.name}),r[1]+=" ("+i.length+" total)",i=t.filter(function(t){return t[e.toString()]===r[2]}),r[2]=r[2].toString()+o.toString()+" rack"+(i.length>1?"s:":":"),i.forEach(function(t){return r[2]+=" "+t.name}),r[2]+=" ("+i.length+" total)",document.getElementsByClassName(n.toString()+"1")[0].innerHTML=r[0],document.getElementsByClassName(n.toString()+"2")[0].innerHTML=r[1],document.getElementsByClassName(n.toString()+"3")[0].innerHTML=r[2]},f=function(t){x(t,"powerCurrent","power"," ohms"),x(t,"temperatureCurrent","temperature","&#186;K"),x(t,"weightCurrent","weight","lb"),x(t,"usedUnitsCurrent","used-units"," used units"),x(t,"largestUnitLocation","largest-unit-location"," units"),x(t,"largestUnitSize","largest-unit-size"," unit size")},a=function(t){var e,n;n=h.selectAll("transform").data(t),e=n.enter().append("transform").append("shape").data(t).attr("id",function(t){return"rack"+t.componentID}).attr("class","rack"),n.transition().attr("translation",function(t){return t.xPosition+" "+t.yPosition+" 0.0"}),e.append("appearance").append("material"),h.selectAll("material").data(t).transition().duration(1e3).delay(500).attr("diffuseColor",function(t){return p(t)}),e.append("box").data(t).attr("size",function(t){return t.floorPlanWidth+" "+(t.floorPlanHeight-.1)+" "+t.rackUnitHeight}),f(t)},a(r),setInterval(function(){return a(r)},1e4),p=function(t){var e,n,o;switch(document.getElementsByClassName("selected-color")[0].value){case"Power":o=t.powerCurrent/t.powerMax,o=d(o)?o:"steelblue";break;case"Weight":o=t.weightCurrent/t.weightMax,o=d(o)?o:"steelblue";break;case"Temperature":o=t.temperatureCurrent/t.coolingMax,o=d(o)?o:"steelblue";break;default:o="steelblue"}return"steelblue"===o?"steelblue":(.5>o?(n=Math.floor(255*o),e=200):(n=255,e=Math.floor(255*(1-o))),"#"+(16>n?"0":"")+n.toString(16)+(16>e?"0":"")+e.toString(16)+"00")},g=function(){i("selected-view"),this.className+=" selected-view",document.getElementById(this.value).setAttribute("set_bind","true")},m=function(){return i("selected-color"),this.className+=" selected-color",a(r)},i=function(t){var e;for(e=document.getElementsByClassName(t);e.length;)e[0].className="button"},s=function(t){var e,n,o,i,r,a,u,s,d,l;for(l=h.append("Transform").append("Shape").attr("id","grid"),l.append("Appearance").append("Material").attr("id","gridMaterial").attr("diffuseColor","0.8, 0.8, 0.8").attr("transparency","0.65"),e="",u="",s=0,o=Math.roundTo(.6*Math.ceil((t.boundingBox.minY-t.maxHeight)/.6-1),2),n=Math.roundTo(.6*Math.ceil((t.boundingBox.maxY+t.maxHeight)/.6+1),2),a=Math.roundTo(.6*Math.ceil((t.boundingBox.minX-t.maxWidth)/.6-1),2),r=Math.roundTo(.6*Math.ceil((t.boundingBox.maxX+t.maxWidth)/.6+1),2),i=a;r>=i;)u+=""+i+" "+o+" -1 "+i+" "+n+" -1 ",e+=""+s+" "+(s+1)+" -1 ",i=Math.roundTo(i+.6,2),s+=2;for(i=o;n>=i;)u+=""+a+" "+i+" -1 "+r+" "+i+" -1 ",e+=""+s+" "+(s+1)+" -1 ",i=Math.roundTo(i+.6,2),s+=2;return d=l.append("IndexedLineSet").attr("coordIndex","#{coordinateString}"),d.append("Coordinate").attr("point",""+u)},s(o),window.onload=function(){var t,e,n,o,i,r,a,u;for(a=document.getElementsByClassName("color-Option")[0].children,n=0,i=a.length;i>n;n++)e=a[n],e.onmouseover=m;for(u=document.getElementsByClassName("camera-Option")[0].children,o=0,r=u.length;r>o;o++)t=u[o],t.onmouseover=g;document.getElementById("grid-toggle").onclick=function(){document.getElementById("gridMaterial").transparency="1.0"===document.getElementById("gridMaterial").transparency?".65":"1.0"}}}).call(this);